<style>
  #UserRelatedLayer h3 {
    font-weight: normal;
    font-size: 2rem;
  }
  #UserRelatedLayer h3 b {
    font-weight: 700;
  }
  #ItemsInCart {
    max-width: 1140px;
    margin: 0 auto 2rem;
    border: 1px solid #d5d5d5;
    border-radius: 10px;
    padding: 2rem 0 2rem 2rem;
    overflow: hidden;
    flex-basis: 40%; /* Temporary until there's another item to the right */
  }
  .flex-row {
    display: flex;
    flex-direction: row;
    flex-wrap: nowrap;
  }
  .flex-col {
    display: flex;
    flex-direction: row;
    flex-wrap: nowrap;
  }
  #ItemsInCartScroll {
    padding-top: 2rem;
    overflow: scroll;
  }
  #ItemsInCartScroll > div {
    width: 100vw;
  }
  #ItemsInCartScroll .flex-item {
    margin: auto 1rem;
  }
  #IICText {
    justify-content: space-between;
  }
  #IICText .flex-item > * {
    display: inline;
  }
</style>

<div id="UserRelatedLayer" class="flex-row">
  <div id="ItemsInCart">
    <div id="IICText" class="container flex-row">
      <div class="flex-item">
        <h3><b>In Your Cart</b> (3)</h3>
      </div>
      <div class="flex-item">
        <p>Subtotal:</p>
        <h3><b>$595</b></h3>
      </div>
    </div>
    <div class="" id="ItemsInCartScroll">
      <div class="container flex-row">
        <div class="flex-item">
          <a href="/249592"
            ><img
              class="img-responsive"
              src="https://www.livingspaces.com/globalassets/productassets/200000-299999/240000-249999/249000-249999/249500-249599/249592/249592_natural_wood_dining_table_signature_01.jpg"
            />
          </a>
        </div>
        <div class="flex-item">
          <a href="/209572"
            ><img
              class="img-responsive"
              src="https://www.livingspaces.com/globalassets/productassets/200000-299999/200000-209999/209000-209999/209500-209599/209572/209572_0.jpg"
            />
          </a>
        </div>
        <div class="flex-item">
          <a href="/209572"
            ><img
              class="img-responsive"
              src="https://www.livingspaces.com/globalassets/productassets/200000-299999/200000-209999/209000-209999/209500-209599/209572/209572_0.jpg"
            />
          </a>
        </div>
        <div class="flex-item">
          <a href="/209572"
            ><img
              class="img-responsive"
              src="https://www.livingspaces.com/globalassets/productassets/200000-299999/200000-209999/209000-209999/209500-209599/209572/209572_0.jpg"
            />
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  const initializeTouchSlider = () => {
    const slider = document.querySelector("#ItemsInCartScroll");
    let isDown = false;
    let startX;
    let scrollLeft;

    // make images undraggable so no ghosting
    let images = document.querySelectorAll("#ItemsInCartScroll img");

    Array.prototype.forEach.call(images, function(el, index, array) {
      el.setAttribute("draggable", false);
    });

    slider.addEventListener("mousedown", e => {
      isDown = true;
      slider.classList.add("active");
      startX = e.pageX - slider.offsetLeft;
      scrollLeft = slider.scrollLeft;
    });
    slider.addEventListener("mouseleave", () => {
      isDown = false;
      slider.classList.remove("active");
    });
    slider.addEventListener("mouseup", () => {
      isDown = false;
      slider.classList.remove("active");
    });
    slider.addEventListener("mousemove", e => {
      if (!isDown) return;
      e.preventDefault();
      const x = e.pageX - slider.offsetLeft;
      const walk = (x - startX) * 3; //scroll-fast
      slider.scrollLeft = scrollLeft - walk;
      // console.log(walk);
    });
  };

  initializeTouchSlider();
</script>
