<!-- 
BANNER TESTER - for displaying Black Frday/Cyber Monday banners pre-deploy

TO USE: Simply find the datastore in the script tag below (variable named 'insertData'). Replace the dates, and image links and the script will do the rest. If you need to add or remove days, simply add/remove objects to the insertData array - the script will handle it for you.

-->
<script>
  let insertData = [
    {
      name: "Holiday LP",
      runtime: "November 1 to November 2",
      imageDesktop:
        "https://livingspaces.com/globalassets/images/home/2019/12/1209_holiday_hp_hero.jpg",
      imageMobile:
        "https://livingspaces.com/globalassets/images/home/2019/12/1209_holiday_hp_mobile.jpg",
      altText: "the alt text for the image",
      srText: "screen reader text in an h1 tag",
      link: "/event/holiday",
      isPrimary: true
    },
    {
      name: "Holiday Mattress",
      runtime: "November 1 to November 2",
      imageDesktop:
        "https://livingspaces.com/globalassets/images/home/2019/12/1209_holidaysleep_hp_hero.jpg",
      imageMobile:
        "https://livingspaces.com/globalassets/images/home/2019/12/1209_holidaysleep_hp_mobile.jpg",
      altText: "alt text for second image",
      srText: "screen reader text in a p tag",
      link: "/departments/mattresses/promotions",
      isPrimary: false
    }
  ];
</script>
<style>
  .container.ls_hp_container {
    max-width: 35%;
  }

  .marker {
    color: black;
    position: absolute;
    transform: translate(-53%, -54%);
    padding: 5rem 0.5rem;
    border-radius: 100%;
  }

  .primary {
    background-color: #00ff00;
    font-size: 4rem;
  }

  .generic-html-template {
    background-color: black;
  }

  .secondary {
    background-color: #ffff00;
    font-size: 2.5rem;
  }

  .tile {
    padding: 4rem;
    margin: 8rem 0;
    background-color: #3c3c3c;
    color: white;
    border-radius: 15px;
  }

  .hero {
    margin-top: 4rem;
    border-radius: 15px;
  }

  #root pre {
    margin: 2rem 0 4rem;
  }

  #root img {
    box-shadow: 5px 5px 9px black;
  }

  #root span {
    background-color: white;
    padding: 0 2rem;
  }

  #root h1 {
    color: black;
    padding: 0 2rem;
  }
</style>
<div class="text-center">
  <img
    class="hero"
    src="/globalassets/images/tools/bt.jpg"
    alt="banner tester"
    class="img-responsive"
  />
</div>
<div class="text-center" id="root"></div>

<!-- BUILD SCRIPT -->
<script>
  function escapeHTML(html) {
    return html
      .replace(/&/g, "&amp;")
      .replace(/</g, "&lt;")
      .replace(/>/g, "&gt;");
  }

  insertHtml = insertData
    .map(obj => {
      let srTag = "";
      if (obj.isPrimary) {
        srTag = "h1";

        let desktopCode = `<!-- DESKTOP PRIMARY --> <section class="ls_mb"> <div id="ls_hero_event"> <a href="${obj.link}"> <div class="ls_hero_cm"> <picture> <!--[if IE 9]><video style="display: none;"><![endif]--> <source srcset="${obj.imageDesktop}?w=575" media="(max-width: 575px)"> <source srcset="${obj.imageDesktop}?w=767" media="(max-width: 767px)"> <source srcset="${obj.imageDesktop}?w=991" media="(max-width: 991px)"> <source srcset="${obj.imageDesktop}?w=1199" media="(max-width: 1199px)"> <!--[if IE 9]></video><![endif]--> <img alt="${obj.altText}" class="img-responsive img_target" src="${obj.imageDesktop}"> </picture> <${srTag} class="sr-only">${obj.srText}</${srTag}> </div> </a> </div> </section>`;

        let mobileCode = `<!-- MOBILE PRIMARY --> <div class="container ls_hp_container"> <div id="ls_hero_event" class="ls_hero_wrapper"> <div class="ls_hero_slider"> <a href="${obj.link}"> <picture> <source media="(min-width: 768px)" srcset="${obj.imageMobile}?w=780"> <source media="(min-width: 576px)" srcset="${obj.imageMobile}?w=576"> <source media="(min-width: 414px)" srcset="${obj.imageMobile}?w=414"> <img src="${obj.imageMobile}" class="img-responsive" alt="${obj.altText}"> </picture> <${srTag} class="sr-only">${obj.srText}</${srTag}> </a> </div> </div> </div>`;
      } else {
        srTag = "p";

        let desktopCode = `<!-- DESKTOP SECONDARY --> <a href="${obj.link}"> <div class="ls_hero_cm"> <picture> <!--[if IE 9]><video style="display: none;"><![endif]--> <source srcset="${obj.imageDesktop}?w=575" media="(max-width: 575px)"> <source srcset="${obj.imageDesktop}?w=767" media="(max-width: 767px)"> <source srcset="${obj.imageDesktop}?w=991" media="(max-width: 991px)"> <source srcset="${obj.imageDesktop}?w=1199" media="(max-width: 1199px)"> <!--[if IE 9]></video><![endif]--> <img alt="${obj.altText}" class="img-responsive img_target" src="${obj.imageDesktop}"> </picture> <${srTag} class="sr-only">${obj.srText}</${srTag}> </div> </a>`;

        let mobileCode = `<!-- MOBILE SECONDARY --> <div class="ls_hero_slider"> <a href="${obj.link}"> <picture> <source media="(min-width: 768px)" srcset="${obj.imageMobile}?w=780"> <source media="(min-width: 576px)" srcset="${obj.imageMobile}?w=576"> <source media="(min-width: 414px)" srcset="${obj.imageMobile}?w=414"> <img src="${obj.imageMobile}" class="img-responsive" alt="${obj.altText}"> </picture> <${srTag} class="sr-only">${obj.srText}</${srTag}> </a> </div> `;
      }

      return `<div class='tile'><div class='${
        obj.isPrimary ? "primary" : "secondary"
      } marker'>${obj.isPrimary ? "PRIMARY" : "SECONDARY"}</div><h1><span>${
        obj.name
      }</span></h1><h2><i>${
        obj.runtime
      }</i></h2>${desktopCode}<pre>${escapeHTML(
        desktopCode
      )}</pre>${mobileCode}<pre>${escapeHTML(mobileCode)}</pre></div>`;
    })
    .join("");

  document.getElementById("root").innerHTML = insertHtml;
</script>
