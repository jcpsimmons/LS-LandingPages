<!-- 
BANNER TESTER - for displaying Black Frday/Cyber Monday banners pre-deploy

TO USE: Simply find the datastore in the script tag below (variable named 'insertData'). Replace the dates, and image links and the script will do the rest. If you need to add or remove days, simply add/remove objects to the insertData array - the script will handle it for you.

-->
<script>
  let insertData = [
    {
      'name': 'P Day wk1',
      'runtime': '2/3-2/12',
      'imageDesktop': '/globalassets/images/home/2020/02/0203_presidentsday_hp_hero_wk1.jpg',
      'imageMobile': '/globalassets/images/home/2020/02/0203_presidentsday_hp_hero_mobile_wk1.jpg',
      'altText': 'President\'s Day Event',
      'srText': 'Presidents day event. Stylish designs for less. Shop our deals.',
      'link': '/event/presidents-day',
      'isPrimary': true
    },
    {
      'name': 'P Day Revive',
      'runtime': '2/3-2/12',
      'imageDesktop': '/globalassets/images/home/2020/02/0203_revive_presidentsday_hp_hero.jpg',
      'imageMobile': '/globalassets/images/home/2020/02/0203_revive_presidentsday_hp_hero_mobile.jpg',
      'altText': 'Revive Presidents Day Event',
      'srText': 'Revive presidents day event. Save big, sleep better. Tempur-pedic stearns and foster save up to $800 on select sets Shop our deals.',
      'link': '/departments/mattresses/promotions',
      'isPrimary': false
    },
    {
      'name': 'P Day dbuster',
      'runtime': '2/12-2/17',
      'imageDesktop': '/globalassets/images/home/2020/02/0213_presidentsday_db_hp_hero_wk2.jpg',
      'imageMobile': '/globalassets/images/home/2020/02/0213_presidentsday_db_hp_hero_mobile_wk2.jpg',
      'altText': 'President\'s Day Doorbuster',
      'srText': 'Presidents day doorbuster event. Stylish designs for less. Shop our deals. Queen bed $175',
      'link': '/event/presidents-day/doorbuster',
      'isPrimary': true
    },
    {
      'name': 'P Day Revive',
      'runtime': '2/12-2/17',
      'imageDesktop': '/globalassets/images/home/2020/02/0203_revive_presidentsday_hp_hero.jpg',
      'imageMobile': '/globalassets/images/home/2020/02/0203_revive_presidentsday_hp_hero_mobile.jpg',
      'altText': 'Revive Presidents Day Event',
      'srText': 'Revive presidents day event. Save big, sleep better. Tempur-pedic stearns and foster save up to $800 on select sets Shop our deals.',
      'link': '/departments/mattresses/promotions',
      'isPrimary': false
    },
    {
      'name': 'P Day wk3',
      'runtime': '2/16-2/23',
      'imageDesktop': '/globalassets/images/home/2020/02/0218_presidentsday_hp_hero_wk3.jpg',
      'imageMobile': '/globalassets/images/home/2020/02/0218_presidentsday_hp_hero_mobile_wk3.jpg',
      'altText': 'President\'s Day Event',
      'srText': 'Presidents day event. Stylish designs for less. Shop our deals. 6pc dining set $495',
      'link': '/event/presidents-day',
      'isPrimary': true
    },
    {
      'name': 'P Day Revive',
      'runtime': '2/16-2/23',
      'imageDesktop': '/globalassets/images/home/2020/02/0203_revive_presidentsday_hp_hero.jpg',
      'imageMobile': '/globalassets/images/home/2020/02/0203_revive_presidentsday_hp_hero_mobile.jpg',
      'altText': 'Revive Presidents Day Event',
      'srText': 'Revive presidents day event. Save big, sleep better. Tempur-pedic stearns and foster save up to $800 on select sets Shop our deals.',
      'link': '/departments/mattresses/promotions',
      'isPrimary': false
    }
  ]
</script>


<style>
  .banner-tester-util {
    margin: auto;
    max-width: 35%
  }

  .container.ls_hp_container {
    max-width: 35%;
  }

  .marker {
    color: black;
    position: absolute;
    transform: translate(-53%, -54%);
    padding: 5rem 0.5rem;
    border-radius: 100%;
  }

  .primary {
    background-color: #00ff00;
    font-size: 4rem;
  }

  .generic-html-template {
    background-color: black;
  }

  .secondary {
    background-color: #ffff00;
    font-size: 2.5rem;
  }

  .tile {
    padding: 4rem;
    margin: 8rem 0;
    background-color: #3c3c3c;
    color: white;
    border-radius: 15px;
  }

  .hero {
    margin-top: 4rem;
    border-radius: 15px;
  }

  #root pre {
    margin: 2rem 0 4rem;
  }

  #root img {
    box-shadow: 5px 5px 9px black;
  }

  #root span {
    background-color: white;
    padding: 0 2rem;
  }

  #root h1 {
    color: black;
    padding: 0 2rem;
  }
</style>
<div class="text-center">
  <img class="hero" src="/globalassets/images/tools/bt.jpg" alt="banner tester" class="img-responsive" />
</div>
<div class="text-center" id="root"></div>

<!-- BUILD SCRIPT -->
<script>
  function escapeHTML(html) {
    return html
      .replace(/&/g, "&amp;")
      .replace(/</g, "&lt;")
      .replace(/>/g, "&gt;");
  }

  insertHtml = insertData
    .map(obj => {
      let srTag = "";
      let desktopCode = "";
      let mobileCode = "";
      if (obj.isPrimary) {
        srTag = "h1";

        desktopCode = `<!-- DESKTOP PRIMARY --> <section class="ls_mb"> <div id="ls_hero_event"> <a href="${obj.link}"> <div class="ls_hero_cm"> <picture> <!--[if IE 9]><video style="display: none;"><![endif]--> <source srcset="${obj.imageDesktop}?w=575" media="(max-width: 575px)"> <source srcset="${obj.imageDesktop}?w=767" media="(max-width: 767px)"> <source srcset="${obj.imageDesktop}?w=991" media="(max-width: 991px)"> <source srcset="${obj.imageDesktop}?w=1199" media="(max-width: 1199px)"> <!--[if IE 9]></video><![endif]--> <img alt="${obj.altText}" class="img-responsive img_target" src="${obj.imageDesktop}"> </picture> <${srTag} class="sr-only">${obj.srText}</${srTag}> </div> </a> </div> </section>`;

        mobileCode = `<!-- MOBILE PRIMARY --> <div class="container ls_hp_container"> <div id="ls_hero_event" class="ls_hero_wrapper"> <div class="ls_hero_slider"> <a href="${obj.link}"> <picture> <source media="(min-width: 768px)" srcset="${obj.imageMobile}?w=780"> <source media="(min-width: 576px)" srcset="${obj.imageMobile}?w=576"> <source media="(min-width: 414px)" srcset="${obj.imageMobile}?w=414"> <img src="${obj.imageMobile}" class="img-responsive" alt="${obj.altText}"> </picture> <${srTag} class="sr-only">${obj.srText}</${srTag}> </a> </div> </div> </div>`;
      } else {
        srTag = "p";

        desktopCode = `<!-- DESKTOP SECONDARY --> <a href="${obj.link}"> <div class="ls_hero_cm"> <picture> <!--[if IE 9]><video style="display: none;"><![endif]--> <source srcset="${obj.imageDesktop}?w=575" media="(max-width: 575px)"> <source srcset="${obj.imageDesktop}?w=767" media="(max-width: 767px)"> <source srcset="${obj.imageDesktop}?w=991" media="(max-width: 991px)"> <source srcset="${obj.imageDesktop}?w=1199" media="(max-width: 1199px)"> <!--[if IE 9]></video><![endif]--> <img alt="${obj.altText}" class="img-responsive img_target" src="${obj.imageDesktop}"> </picture> <${srTag} class="sr-only">${obj.srText}</${srTag}> </div> </a>`;

        mobileCode = `<!-- MOBILE SECONDARY --> <div class="ls_hero_slider banner-tester-util"> <a href="${obj.link}"> <picture> <source media="(min-width: 768px)" srcset="${obj.imageMobile}?w=780"> <source media="(min-width: 576px)" srcset="${obj.imageMobile}?w=576"> <source media="(min-width: 414px)" srcset="${obj.imageMobile}?w=414"> <img src="${obj.imageMobile}" class="img-responsive" alt="${obj.altText}"> </picture> <${srTag} class="sr-only">${obj.srText}</${srTag}> </a> </div> `;
      }

      return `<div class='tile'><div class='${
        obj.isPrimary ? "primary" : "secondary"
        } marker'>${obj.isPrimary ? "PRIMARY" : "SECONDARY"}</div><h1><span>${
        obj.name
        }</span></h1><h2><i>${
        obj.runtime
        }</i></h2>${desktopCode}<pre>${escapeHTML(
          desktopCode
        )}</pre>${mobileCode}<pre>${escapeHTML(mobileCode)}</pre></div>`;
    })
    .join("");

  document.getElementById("root").innerHTML = insertHtml;
</script>